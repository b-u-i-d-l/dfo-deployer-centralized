"use strict";function _typeof(e){return e&&typeof Symbol!="undefined"&&e.constructor===Symbol?"symbol":typeof e}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,s){try{var o=t[i](s),u=o.value}catch(a){n(a);return}if(!o.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}!window.preloadedScripts && (window.preloadedScripts=[]);Array.prototype.push.apply(window.preloadedScripts,['spa/deploy/controller.jsx','spa/deploy/style.min.css','spa/deploy/view.jsx','spa/dFORule/controller.jsx','spa/dFORule/style.min.css','spa/dFORule/view.jsx','spa/govern/controller.jsx','spa/govern/style.min.css','spa/govern/view.jsx','spa/index/controller.jsx','spa/index/style.min.css','spa/index/view.jsx','spa/loader.jsx','spa/messages.jsx','spa/propose/controller.jsx','spa/propose/style.min.css','spa/propose/view.jsx','spa/run/controller.jsx','spa/run/style.min.css','spa/run/view.jsx']);var DeployController=function(t){var n=this;n.view=t,n.deploy=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i,s,o,u,a,f;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:n.view.emit("message"),t=[],!e.dfoName&&t.push("Insert a valid DFO Name"),!e.tokenSymbol&&t.push("Insert a valid Token Symbol"),e.tokenTotalSupply<1&&t.push("Token Total Supply must be greater than 1"),e.surveyLength<1&&t.push("Survey Length must be greater than 1"),!e.surveyValidationRulesAddress&&t.push("Survey Validation Rules Address must be a valid Ethereum Address");if(!(t.length>0)){l.next=9;break}throw t;case 9:return n.view.emit("loader/toggle"),n.view.emit("message","Transaction 1 of 6 - Creating VotingToken...","info"),l.next=13,createContract(window.context.votingTokenAbi,window.context.votingTokenBin,e.dfoName,e.tokenSymbol,18,e.tokenTotalSupply);case 13:return i=l.sent,n.view.emit("message","Transaction 2 of 6 - Creating StateHolder...","info"),l.next=17,createContract(window.context.stateHolderAbi,window.context.stateHolderBin,"0x0000000000000000000000000000000000000000");case 17:return s=l.sent,n.view.emit("message","Transaction 3 of 6 - Creating MVD Functionality Proposal Manager...","info"),l.next=21,createContract(window.context.mvdFunctionalityProposalManagerAbi,window.context.mvdFunctionalityProposalManagerBin);case 21:return o=l.sent,n.view.emit("message","Transaction 4 of 6 - Creating Survey Block Length...","info"),l.next=25,createContract(window.context.mvdBlockLengthProviderAbi,window.context.mvdBlockLengthProviderBin,e.surveyLength);case 25:return u=l.sent,n.view.emit("message","Transaction 5 of 6 - Creating Functionalities Manager...","info"),l.next=29,createContract(window.context.functionalitiesManagerAbi,window.context.functionalitiesManagerBin,window.getRobeAddress(),n.view.mvdBlockLengthProviderId,u.address,n.view.surveyValidationRuleNFTId,e.surveyValidationRulesAddress,0,"0x0000000000000000000000000000000000000000");case 29:return a=l.sent,n.view.emit("message","Transaction 6 of 6 - Creating Your DFO...","info"),l.next=33,createContract(window.context.mvdAbi,window.context.mvdBin,i.address,s.address,window.getMVDFunctionalityModelsManagerAddress(),o.address,a.address);case 33:return f=l.sent,n.view.emit("message","Finalizing creation...","info"),l.next=37,window.wait(7e3);case 37:return n.view.emit("message"),l.abrupt("return",f);case 39:case"end":return l.stop()}},r,this)}));return t}()};var Deploy=React.createClass({displayName:"Deploy",getDefaultSubscriptions:function(){return{"metamask/update":this.onNetworkUpdate}},onNetworkUpdate:function(){this.surveyValidationRulesAddress&&(this.surveyValidationRulesAddress.value=window.web3.currentProvider.chainId==="0x3"?context.surveyValidationRulesDefaultAddressRopsten:context.surveyValidationRulesDefaultAddress),this.defaultSurveyValidationRulesAddress&&(this.defaultSurveyValidationRulesAddress.href=getEtherscanURL()+"address/"+this.surveyValidationRulesAddress.value+"#code"),this.surveyValidationRuleNFTId=window.web3.currentProvider.chainId==="0x3"?context.surveyValidationRuleNFTIdRopsten:context.surveyValidationRuleNFTId,this.mvdBlockLengthProviderId=window.web3.currentProvider.chainId==="0x3"?context.mvdBlockLengthProviderIdRopsten:context.mvdBlockLengthProviderId},deploy:function(t){t&&t.preventDefault(!0)&&t.stopPropagation(!0);var n=this;this.controller.deploy(getData(this.domRoot)).then(function(e){n.emit("dfo/deploy",e)}).catch(function(e){return n.emit("message",e.message||e,"error")})},render:function(){var t=this;return React.createElement("section",{className:"Nav"},React.createElement("div",{className:"NavAll"},React.createElement("div",{className:"NavDeploy"},React.createElement("h2",null,React.createElement("span",{className:"BOLD"},"Hello World ")," | Deploy your DFO"),React.createElement("div",{className:"special"},React.createElement("h4",{className:"BOLD"},"DFO"),React.createElement("label",{htmlFor:"dfoName"},"Name:"),React.createElement("input",{id:"dfoName",type:"text"})),React.createElement("div",null,React.createElement("h4",{className:"BOLD"},"Voting Tokens"),React.createElement("label",{htmlFor:"tokenSymbol"},"Symbol:"),React.createElement("input",{id:"tokenSymbol",type:"text"})),React.createElement("div",{className:"special"},React.createElement("label",{htmlFor:"tokenTotalSupply"},"Total Supply:"),React.createElement("input",{id:"tokenTotalSupply",type:"number",min:"1"})),React.createElement("div",null,React.createElement("h4",{className:"BOLD"},"Governance Rules"),React.createElement("label",{htmlFor:"surveyLength"},"Survey Duration (Blocks):"),React.createElement("input",{id:"surveyLength",type:"number",min:"1"})),React.createElement("div",{className:"special"},React.createElement("label",{htmlFor:"surveyValidationRulesAddress"},"Rules Smart Contract Address:"),React.createElement("input",{id:"surveyValidationRulesAddress",type:"text",placeholder:"Enter ethereum address..",ref:function(n){return(t.surveyValidationRulesAddress=n)&&t.onNetworkUpdate()}}),React.createElement("br",null),React.createElement("a",{id:"defaultSurveyValidationRulesAddress",target:"_blank",ref:function(n){return(t.defaultSurveyValidationRulesAddress=n)&&t.onNetworkUpdate()}},"Standard")),React.createElement("div",null,React.createElement("button",{type:"button",onClick:this.deploy},"Deploy")))))}});var DFORuleController=function(t){var n=this;n.view=t};var DFORule=React.createClass({displayName:"DFORule",requiredModules:["spa/run"],onClick:function(t){t&&t.preventDefault(!0)&&t.stopPropagation(!0),this.domRoot.children().find("li").removeClass("selected"),$(t.target).parent().addClass("selected");var n=this,r=t.target.innerHTML;ReactModuleLoader.load({modules:["spa/"+r.firstLetterToLowerCase()],callback:function(){return n.setState({element:r})}})},render:function(){return React.createElement("section",{className:"Nav"},React.createElement("div",{className:"NavAll"},React.createElement("ul",{className:"NavChooser"},React.createElement("li",{className:"selected"},React.createElement("a",{href:"javascript:;",onClick:this.onClick},"Run")),React.createElement("li",null,React.createElement("a",{href:"javascript:;",onClick:this.onClick},"Propose")),React.createElement("li",null,React.createElement("a",{href:"javascript:;",onClick:this.onClick},"Govern"))),React.createElement(window[this.state&&this.state.element||"Run"],{dFO:this.props.dFO,tokenAddress:this.props.tokenAddress,tokenName:this.props.tokenName,tokenSymbol:this.props.tokenSymbol})))}});var GovernController=function(t){var n=this;n.view=t,n.loadSurveys=function(){function t(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(){var e,t,i,s,o,u;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,blockchainCall(n.view.props.dFO.Proposal({},{fromBlock:0}));case 2:e=a.sent,e=Enumerable.From(e).Select(function(e){return{proposal:e.args.proposal,block:e.blockNumber}}).ToArray(),t=[],a.t0=regeneratorRuntime.keys(e);case 6:if((a.t1=a.t0()).done){a.next=14;break}return i=a.t1.value,a.next=10,n.loadSurvey(e[i]);case 10:s=a.sent,s&&t.push(s),a.next=6;break;case 14:return o=[],a.next=17,blockchainCall(window.web3.eth.getBlockNumber);case 17:return u=a.sent,t=Enumerable.From(t),t.Where(function(e){return e.endBlock<u&&e.terminated}).ForEach(function(e){return o.push(e)}),t=t.Where(function(e){return e.endBlock>=u||!e.terminated}).OrderBy(function(e){return e.startBlock}).ToArray(),o=Enumerable.From(o).Where(function(e){return e.endBlock<u}).OrderByDescending(function(e){return e.endBlock}).ToArray(),a.abrupt("return",{surveys:t,terminatedSurveys:o,currentBlock:u});case 23:case"end":return a.stop()}},r,this)}));return t}(),n.loadSurvey=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function n(e){var t;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,blockchainCall(window.web3.eth.contract(window.context.propsalAbi).at(e.proposal).toJSON);case 3:return t=r.sent,t=JSON.parse(t),t.address=e.proposal,t.startBlock=e.block,r.abrupt("return",t);case 10:r.prev=10,r.t0=r["catch"](0),console.error(r.t0);case 13:case"end":return r.stop()}},n,this,[[0,10]])}));return t}(),n.vote=function(){function t(t,n,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t,i){var s;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return s=web3.eth.contract(window.context.propsalAbi).at(e.address),n.view.emit("loader/toggle"),n.view.emit("message","Voting..."),o.t0=waitForReceipt,o.next=6,blockchainCall(s[t],i);case 6:return o.t1=o.sent,o.next=9,(0,o.t0)(o.t1);case 9:n.view.emit("message","Vote sent!"),n.view.emit("loader/toggle"),setTimeout(n.loadSurveys);case 12:case"end":return o.stop()}},r,this)}));return t}(),n.terminate=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n.view.emit("loader/toggle"),n.view.emit("message","Finalizing Survey..."),r.t0=waitForReceipt,r.next=5,blockchainCall(web3.eth.contract(window.context.propsalAbi).at(e.address).terminate);case 5:return r.t1=r.sent,r.next=8,(0,r.t0)(r.t1);case 8:n.view.emit("message","Survey Finalized! Enjoy Your Brand new Functionalities!"),n.view.emit("loader/toggle"),setTimeout(n.loadSurveys);case 11:case"end":return r.stop()}},r,this)}));return t}()};var Govern=React.createClass({displayName:"Govern",componentDidMount:function(){var t=this;t.controller.loadSurveys().then(function(e){return t.setState(e)}).catch(function(e){return t.emit("message",e.message||e,"error")})},vote:function(t,n){t&&t.preventDefault(!0)&&t.stopPropagation(!0);var r=$(t.target),i=parseInt(r.parent().find(".voteAmount").val()),s=r.hasClass("VoteYep")?"accept":"refuse";this.controller.vote(n,s,i).catch(function(e){return _this.emit("message",e.message||e,"error")})},terminate:function(t,n){t&&t.preventDefault(!0)&&t.stopPropagation(!0),this.controller.terminate(n).catch(function(e){return _this.emit("message",e.message||e,"error")})},renderSurvey:function(t){var n=this;return React.createElement("li",{key:t.codeName},React.createElement("div",{className:"NavGovernTitle"},t.codeName&&React.createElement("p",null,React.createElement("span",{className:"BOLD"},t.codeName||"NONE")),t.address&&React.createElement("a",{href:getEtherscanURL()+"address/"+t.address,target:"_blank"},"Survey Address"),React.createElement("br",null),React.createElement("br",null),t.location&&React.createElement("a",{href:getEtherscanURL()+"address/"+t.location,target:"_blank"},"Smart Contract"),React.createElement("br",null),React.createElement("br",null),React.createElement("a",{href:"https://robe.ninja?id="+t.sourceLocationId,target:"_blank"},"Source Code"),t.replaces&&React.createElement("div",null,React.createElement("label",null,"Replace:"),React.createElement("span",null,t.replaces))),(t.methodSignature!==""||t.returnAbiParametersArray&&t.returnAbiParametersArray.length>0)&&React.createElement("div",{className:"NavGovernNerd"},t.methodSignature&&[React.createElement("p",null,"submitable: ",React.createElement("span",{className:"BOLD"},t.submitable?"YES":"NO")),React.createElement("p",null,"internal: ",React.createElement("span",{className:"BOLD"},t.isInternal?"YES":"NO")),React.createElement("p",null,"sender: ",React.createElement("span",{className:"BOLD"},t.needsSender?"YES":"NO")),React.createElement("p",null,"Method Signature: ",React.createElement("span",{className:"BOLD"},t.methodSignature))],t.returnAbiParametersArray&&t.returnAbiParametersArray.length>0&&[React.createElement("p",null,"Output Values:"),React.createElement("span",null,JSON.stringify(t.returnAbiParametersArray))]),React.createElement("div",{className:"NavGovernVote"},t.endBlock>=this.state.currentBlock&&[React.createElement("h3",{htmlFor:"amount"},"Vote"),React.createElement("input",{type:"number",className:"voteAmount",min:"1",placeholder:"Token Amount"}),React.createElement("button",{className:"VoteYep",onClick:function(r){return n.vote(r,t)}},"Accept"),React.createElement("button",{className:"VoteNope",onClick:function(r){return n.vote(r,t)}},"Refuse")],t.endBlock<this.state.currentBlock&&!t.terminated&&React.createElement("button",{onClick:function(r){return n.terminate(r,t)}},"Finalize Survey"),React.createElement("h3",{htmlFor:"amount"},"Status"),React.createElement("p",null,"Start Block: ",React.createElement("span",{className:"BOLD"},t.startBlock)),React.createElement("p",null,"End Block: ",React.createElement("span",{className:"BOLD"},t.endBlock)),React.createElement("p",null,"Accepted: ",React.createElement("span",{className:"BOLD"},t.accepted)),React.createElement("p",null,"Refused: ",React.createElement("span",{className:"BOLD"},t.refused)),React.createElement("p",null,"Tokens Locked: ",React.createElement("span",{className:"BOLD"},t.accepted+t.refused))))},render:function(){return React.createElement("section",{className:"Nav"},React.createElement("div",{className:"NavAll"},React.createElement("div",{className:"NavGovern"},React.createElement("h2",null,React.createElement("span",{className:"BOLD"},"Proposal ")," | In Progress"),React.createElement("ul",null,this.state&&this.state.surveys&&this.state.surveys.map(this.renderSurvey)),React.createElement("h2",null,React.createElement("span",{className:"BOLD"},"Proposal ")," | History"),React.createElement("ul",null,this.state&&this.state.terminatedSurveys&&this.state.terminatedSurveys.map(this.renderSurvey)))))}});var IndexController=function(t){var n=this;n.view=t,n.tryLoadDFO=function(t){return new Promise(function(e,n){if(!isEthereumAddress(t))return n("Insert a valid DFO Address");var r=window.web3.eth.contract(window.context.mvdAbi).at(t);r.getFunctionalitiesAmount(function(t,i){return t?n(t.message||t):i.toNumber()===0?n("This Address is not a DFO"):e(r)})})}};var Index=React.createClass({displayName:"Index",getDefaultSubscriptions:function(){return{"dfo/deploy":this.onDFO}},onDFO:function(t){var n=this;n.address&&(n.address.value=t.address);var r="",i="",s="";t.getToken(function(e,o){try{r=o;var u=window.web3.eth.contract(window.context.votingTokenAbi).at(r);u.name(function(e,o){try{i=o,u.symbol(function(e,o){try{s=o}catch(u){}n.setState({dFO:t,tokenAddress:r,tokenName:i,tokenSymbol:s,deploy:null},function(){window.history.pushState({},"",window.location.protocol+"//"+window.location.hostname+(window.location.port&&window.location.port!=="443"&&window.location.port!=="80"?":"+window.location.port:"")+"/?addr="+t.address)})})}catch(a){n.setState({dFO:t,tokenAddress:r,tokenName:i,tokenSymbol:s,deploy:null},function(){window.history.pushState({},"",window.location.protocol+"//"+window.location.hostname+(window.location.port&&window.location.port!=="443"&&window.location.port!=="80"?":"+window.location.port:"")+"/?addr="+t.address)})}})}catch(a){n.setState({dFO:t,tokenAddress:r,tokenName:i,tokenSymbol:s,deploy:null},function(){window.history.pushState({},"",window.location.protocol+"//"+window.location.hostname+(window.location.port&&window.location.port!=="443"&&window.location.port!=="80"?":"+window.location.port:"")+"/?addr="+t.address)})}})},load:function(t){var n=this;t&&t.preventDefault(!0)&&t.stopPropagation(!0),this.emit("message","");var r=this;r.setState({dFO:null,deploy:null},function(){r.controller.tryLoadDFO(n.address.value.split(" ").join("")).then(r.onDFO).catch(alert)})},deploy:function(t){t&&t.preventDefault(!0)&&t.stopPropagation(!0),this.setState({dFO:null,deploy:!0})},requiredModules:["spa/deploy","spa/dFORule"],requiredScripts:["spa/messages.jsx","spa/loader.jsx"],componentDidMount:function(){var t="";try{t=window.location.search.split(" ").join("").split("/").join("").split("?addr=").join("")}catch(n){}window.isEthereumAddress(t)&&(this.address.value=t)&&this.load()},render:function(){var t=this;return React.createElement("div",{className:"Main"},React.createElement(Messages,null),React.createElement(Loader,null),React.createElement("article",{className:"MainAwesome"},React.createElement("figure",null,React.createElement("div",{className:"GIFY"},React.createElement("iframe",{src:"https://giphy.com/embed/cPHYguVPkcXBIM5tpX",width:"100%",height:"100%",style:{position:"absolute"},frameBorder:"0",className:"giphy-embed",allowFullScreen:!0}))),React.createElement("h4",null,"Deploy and Manage a DFO"),React.createElement("p",null,"The Decentralized Flexible Organization is a new concept, that reshapes how we’re building Decentralized Applications, solving some critical points of failure in the today’s Dapp ecosystem like the needs of a Legal Known Entity to Trust, the slowly Smart Contract Developing and the Centralized or Distributed Servers Needs."),React.createElement("div",{className:"MainBtn"},React.createElement("a",{target:"_blank",href:"https://medium.com/risepic/introducing-the-decentralized-flexible-organization-8c9e6fbab6d4"},"Manifesto"),React.createElement("a",{target:"_blank",href:"https://github.com/b-u-i-d-l"},"Code"),React.createElement("a",{target:"_blank",href:"https://gitcoin.co/grants/154/decentralized-flexible-organization"},"Support")),React.createElement("div",{className:"MainLoad"},React.createElement("input",{ref:function(n){return t.address=n},placeholder:"DFO ETH Address"}),React.createElement("button",{type:"button",onClick:this.load},"Load"),React.createElement("a",{className:"MainDeploy",href:"javascript:;",onClick:this.deploy},"or deploy a new ",React.createElement("span",{className:"BOLD"},"Decentralized Flexible Organization")))),this.state&&this.state.dFO&&React.createElement(DFORule,{dFO:this.state.dFO,tokenAddress:this.state.tokenAddress,tokenName:this.state.tokenName,tokenSymbol:this.state.tokenSymbol}),this.state&&this.state.deploy&&React.createElement(Deploy,null),React.createElement("div",{className:"NoWeb3"},React.createElement("figure",null,React.createElement("img",{src:"./assets/img/DFOhub5w.png"})),React.createElement("section",{className:"UnderstandingDFO"},React.createElement("h1",null,"Why Decentralized Flexible Organization can be a huge game changer?"),React.createElement("h3",null,'Dapps today needs a well-known entity to trust, we can call them "Semi-Dapps", for some unadressed issues... like...'),React.createElement("ul",null,React.createElement("li",null,React.createElement("h4",null,"The Front-End Attack: "),React.createElement("p",null,"If a Company rule the front end of a Dapp, the scenario of censorship is not impossible, in fact editing the Front-End you can choose easily what people can see, and even if the information is public in the Blockchain, users are not able to see some information inside the application.")),React.createElement("li",null,React.createElement("h4",null,"The DNS Attack: "),React.createElement("p",null,"If a Well-Known Entity hosts a Decentralized Application, governments can easily block the DNS connections to it. Someone can argue that this attack is limited by the fact that people can call Smart Contracts directly from the Main Net of the Blockchain, but this is very difficult for non-tech users and in terms of non-financial related applications is definitely a censoring model.")),React.createElement("li",null,React.createElement("h4",null,"Slowly Developing and Pre-Release Bug Fixing: "),React.createElement("p",null,"Smart Contracts once deployed they need to be killed and forked, so Coders have to be sure about the code and they need to trust third parties to scrutinize the code before to test it in the main-net with real users. This situation is exactly the contrary of what makes Web 2.0 fast and resilient. ")),React.createElement("li",null,React.createElement("h4",null,"Monolithic Coding and Centralized Decision Making: "),React.createElement("p",null,"The monolithic way of coding Smart Contracts to build Decentralized Applications, is a huge gap for adoption, first of all for limitation of space in deploying to Programmable Blockchains. Secondly, for the GAS used by users in calling a function inside a complex application (more complex is the code, more GAS users have to spend to call a function). And at the end of the day, a well-know entity is needed to fork or update an application...")),React.createElement("li",null,React.createElement("h4",null,"Monolithic Coding and Centralized Decision Making: "),React.createElement("p",null,"The monolithic way of coding Smart Contracts to build Decentralized Applications, is a huge gap for adoption, first of all for limitation of space in deploying to Programmable Blockchains. Secondly, for the GAS used by users in calling a function inside a complex application (more complex is the code, more GAS users have to spend to call a function). And at the end of the day, a well-know entity is needed to fork or update an application..."))),React.createElement("h1",null,"A new wave of Decentralized Applications is coming... But this time with ",React.createElement("span",{className:"BOLD"},"no points of failure")),React.createElement("p",null,"The Decentralized Flexible Organization is a new concept, that reshapes how we’re building Decentralized Applications, solving some critical points of failure in the today’s Dapp ecosystem like the needs of a Legal Known Entity to Trust, the slowly Smart Contract Developing and the Centralized or Distributed Servers Needs."),React.createElement("p",null," The Decentralized Flexible Organisation is a basic layer independent from the functions of a Decentralized Applications, with the aim to rule all of the developing and upgrade of it since the beginning in an anonymous way. In fact, using DFO, the first step to start building a Decentralized Application is to Deploy the DAO side, with the Voting Token information and the Voting Rules."),React.createElement("p",null," Once deployed the DFO Smart Contract works as a Proxy to route functions in Read/Write rules or read-only rules to the connected Smart Contracts or Non-Fungible Tokens, so at the end of the day, Token Holders can vote the edit, kill or add functionality and design features of the Decentralized Application. Basically, the community can BUIDL, and 100% rule it without needs to trust an entity or to trust each other."),React.createElement("figure",null,React.createElement("img",{src:"./assets/img/DFOImg.png"})),React.createElement("p",null,"To reach this goal, the DFO is introducing a new way to deploy Flexible Decentralized Applications that will enable an interesting, smart way to code and deploy Smart Contracts, more like Microservices, and this is why we called it “Flexible” rather than “Autonomous.”"),React.createElement("p",null,"This Microservices kind of developing is fascinating because can introduce a new wave of Decentralized Application where if a single Smart Contract is broken, don’t block the entire application security and usability, but only the single function and it’ll be killed or edited fast without needs to a single entity to do emergency strategies like to fork the entire application."),React.createElement("p",null,"Another important step forward is the idea to introduce NFTs for Front-End Code, so the DFO proxy is able to redirect users to the right NFTs to download the frontend code when a user’s browsers want to surf the Decentralized Application, and at the same time, Token Holders are able to easily vote for the front end connecting the Proxy to the chained NFTs they prefer."),React.createElement("p",null,"This setup is a step forward for building Decentralized Application, that can be hosted by anyone in every kind of domain name, just adding one or two simple lines of code to redirect users to the Proxy of the DFO, making Dapps more censorship-resistant than ever before."),React.createElement("div",{className:"MainBtn"},React.createElement("a",{target:"_blank",href:"https://medium.com/risepic/introducing-the-decentralized-flexible-organization-8c9e6fbab6d4"},"Manifesto"),React.createElement("a",{target:"_blank",href:"https://github.com/b-u-i-d-l"},"Github"),React.createElement("a",{target:"_blank",href:"https://gitcoin.co/grants/154/decentralized-flexible-organization"},"Gitcoin")))))}});var Loader=React.createClass({displayName:"Loader",getDefaultSubscriptions:function(){return{"loader/toggle":this.onToggle}},onToggle:function(t){this.setState({visible:t===!0||t===!1?t:this.state&&this.state.visible?!this.state.visible:!0})},render:function(){return React.createElement("div",{className:"MainLoader",style:{display:this.state&&this.state.visible?"block":"none"}},React.createElement("figure",null,React.createElement("div",null,React.createElement("iframe",{src:"https://giphy.com/embed/PgKXoMooutndQOOSAB",width:"100%",height:"100%",frameBorder:"0","class":"giphy-embed",allowFullScreen:!0}))))}});var Messages=React.createClass({displayName:"Messages",getDefaultSubscriptions:function(){return{message:this.onMessage}},onMessage:function(t,n){var r=this;this.setState({message:t,className:n},function(){(!r.state.message||r.state.message.length===0||r.state.className==="error")&&r.emit("loader/toggle",!1)})},clear:function(t){t&&t.preventDefault(!0)&&t.stopPropagation(!0),this.onMessage()},render:function(){return React.createElement("div",{className:"MainMsg"+(this.state&&this.state.className?" MainMsg_"+this.state.className:""),style:{display:this.state&&this.state.message?"block":"none"}},this.state&&this.state.message&&typeof this.state.message=="string"&&React.createElement("p",null,this.state.message),this.state&&this.state.message&&typeof this.state.message!="string"&&this.state.message.map(function(e){return React.createElement("p",{key:e},e)}),React.createElement("button",{onClick:this.clear},"Close"))}});var ProposeController=function(t){var n=this;n.view=t,n.propose=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:n.view.emit("message"),t=[],e.functionalityReplace=e.functionalityReplace.split("NONE").join(""),!e.functionalityName&&!e.functionalityReplace&&t.push("Almost a new entry or a disabling functionality must be specified"),e.functionalityName&&!e.functionalityMethodSignature&&t.push("If you specify a functionality you must also specify a method signature"),e.functionalityName&&!isEthereumAddress(e.functionalityAddress)&&t.push("A valid ethereum address must be provided if a new functionality is proposed");if(!(t.length>0)){s.next=8;break}throw t;case 8:e.functionalityOutputParameters=e.functionalityOutputParameters.trim();try{e.functionalityOutputParameters=e.functionalityOutputParameters?JSON.stringify(e.functionalityOutputParameters.split(" ")):"[]"}catch(o){e.functionalityOutputParameters="[]"}return n.view.emit("loader/toggle"),n.view.emit("message","Proposing Feature..."),s.t0=waitForReceipt,s.next=15,blockchainCall(n.view.props.dFO.newProposal,e.functionalityName,window.getRobeAddress(),e.functionalitySourceId,e.functionalityAddress,e.functionalitySubmitable,e.functionalityMethodSignature,e.functionalityOutputParameters,e.functionalityInternal,e.functionalityNeedsSender,e.functionalityReplace);case 15:return s.t1=s.sent,s.next=18,(0,s.t0)(s.t1);case 18:return i=s.sent,n.view.emit("message","Proposal sent!"),n.view.emit("loader/toggle"),s.abrupt("return",i);case 22:case"end":return s.stop()}},r,this)}));return t}()};var Propose=React.createClass({displayName:"Propose",componentDidMount:function(){var t=this;loadFunctionalities(t.props.dFO).then(function(e){return t.setState({functionalities:e})}).catch(function(e){return t.emit("message",e.message||e,"error")})},propose:function(t){t&&t.preventDefault(!0)&&t.stopPropagation(!0);var n=this;n.controller.propose(getData(this.domRoot)).catch(function(e){return n.emit("message",e.message||e,"error")})},render:function(){return React.createElement("section",{className:"Nav"},React.createElement("div",{className:"NavAll"},React.createElement("div",{className:"NavPropose"},React.createElement("h2",null,React.createElement("span",{className:"BOLD"},"Propose")," Update"),React.createElement("div",null,React.createElement("h4",{className:"BOLD"},"Bio"),React.createElement("label",{htmlFor:"functionalityName"},"Name:"),React.createElement("input",{id:"functionalityName",type:"text"})),React.createElement("div",null,React.createElement("label",{htmlFor:"functionalitySourceId"},"SmartContract Source Code NFT:"),React.createElement("input",{id:"functionalitySourceId",type:"number",min:"0"})),React.createElement("div",{className:"special"},React.createElement("label",{htmlFor:"functionalityAddress"},"SmartContract Address:"),React.createElement("input",{id:"functionalityAddress",type:"text"})),React.createElement("div",null,React.createElement("h4",{className:"BOLD"},"Id"),React.createElement("label",{htmlFor:"functionalitySubmitable"},"Is submitable?"),React.createElement("input",{id:"functionalitySubmitable",type:"checkbox"})),React.createElement("div",null,React.createElement("label",{htmlFor:"functionalityInternal"},"Is internal? (callable from other functionality only)"),React.createElement("input",{id:"functionalityInternal",type:"checkbox"})),React.createElement("div",{className:"special"},React.createElement("label",{htmlFor:"functionalityNeedsSender"},"needs sender?"),React.createElement("input",{id:"functionalityNeedsSender",type:"checkbox"})),React.createElement("div",null,React.createElement("h4",{className:"BOLD"},"Advanced"),React.createElement("label",{htmlFor:"functionalityMethodSignature"},"Method Signature to call:"),React.createElement("input",{id:"functionalityMethodSignature",type:"text"})),React.createElement("div",{className:"special"},React.createElement("label",{htmlFor:"functionalityOutputParameters"},"Output Values (separated by spaces):"),React.createElement("input",{id:"functionalityOutputParameters",type:"text"})),React.createElement("div",null,React.createElement("h4",{className:"BOLD"},"Edit Functionality"),React.createElement("label",{htmlFor:"functionalityReplace"},"Update an Existing Functionality?"),React.createElement("select",{id:"functionalityReplace"},React.createElement("option",{selected:"true"},"NONE"),this.state&&this.state.functionalities&&this.state.functionalities.map(function(e){return React.createElement("option",{key:e.codeName},e.codeName)}))),React.createElement("div",null,React.createElement("button",{type:"button",onClick:this.propose},"Propose")))))}});var RunController=function(t){var n=this;n.view=t,n.call=function(){function t(t,n,r,i,s,o){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t,i,s,o,u){var a;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return i&&u&&e!=="read"&&s.unshift(0),i&&u&&s.unshift("0x0000000000000000000000000000000000000000"),i&&(s=window.abi.encode(i,s)),f.next=5,blockchainCall(n.view.props.dFO[e],t,s);case 5:return a=f.sent,f.abrupt("return",e==="read"?window.decodeAbiParameters(o,a):[]);case 7:case"end":return f.stop()}},r,this)}));return t}()};var Run=React.createClass({displayName:"Run",componentDidMount:function(){var t=this;loadFunctionalities(t.props.dFO).then(function(e){return t.setState({functionalities:e})}).catch(function(e){return t.emit("message",e.message||e,"error")})},onClick:function(t,n){t&&t.preventDefault(!0)&&t.stopPropagation(!0);var r=$(t.target).hasClass("RwWrite")?"submit":"read",i=[],s=this;this[n.codeName+"Input"]&&this[n.codeName+"Input"].children().each(function(e,t){var n=$($(t).children()[1]),r=n.val();n.is('input[type="number"]')&&(r=parseInt(r)),n.is("select")&&(r=r==="true"),r!==undefined&&i.push(r)});var s=this,o=s.state&&s.state.response||[];delete o[n.codeName],this.emit("message"),s.setState({response:o},function(){s.controller.call(r,n.codeName,n.inputParameters,i,n.returnAbiParametersArray,n.needsSender).then(function(e){var t=s.state&&s.state.response||{};t[n.codeName]=e,s.setState({response:t})}).catch(function(e){return s.emit("message",e.message||e,"error")})})},renderInput:function(t){var n=this;if(t.isInternal||!t.methodSignature)return;var r=this;return React.createElement("ul",{ref:function(r){return t.inputParameters&&t.inputParameters.length>0&&(n[t.codeName+"Input"]=$(r))}},t.inputParameters.map(function(e,n){return(!t.needsSender||n>(t.submitable?1:0))&&React.createElement("li",{key:e.codeName},React.createElement("label",null,e)," ",(e==="bytes32"||e==="address"||e==="string"||e.indexOf("uint")==0)&&React.createElement("input",{type:e.indexOf("uint")==0?"number":"text",min:"0",placeholder:e==="address"?"Insert your ethereum address":""}),e==="bool"&&React.createElement("select",null,React.createElement("option",{value:"false",selected:!0},"false"),React.createElement("option",{value:"true"},"true")))}),r.state&&r.state.response&&r.state.response[t.codeName]&&React.createElement("p",null,"Response: ",JSON.stringify(r.state.response[t.codeName])))},render:function(){var t=this,n=this;return React.createElement("div",{className:"NavAll"},React.createElement("h2",null,React.createElement("span",{className:"BOLD"},"The DFO ")," | Explore"),React.createElement("div",null,React.createElement("h2",null,this.props.tokenName,"(",this.props.tokenSymbol,") | ",React.createElement("a",{target:"_blank",href:window.getEtherscanURL()+"address/"+this.props.dFO.address},"DFO Address")," | ",React.createElement("a",{target:"_blank",href:window.getEtherscanURL()+"token/"+this.props.tokenAddress},"Token Address"))),React.createElement("ul",{className:"NavRunRw"},this.state&&this.state.functionalities&&this.state.functionalities.map(function(e){return React.createElement("li",{key:e.codeName},React.createElement("span",{className:"RwCn"},e.codeName),t.renderInput(e),!e.isInternal&&e.submitable&&React.createElement("button",{className:"RwWrite",onClick:function(r){return n.onClick(r,e)}},"Write"),!e.isInternal&&!e.submitable&&React.createElement("button",{className:"RwRead",onClick:function(r){return n.onClick(r,e)}},"Read"),e.isInternal&&React.createElement("span",{className:"RwIntern"},"Internal"),React.createElement("br",null),React.createElement("br",null),React.createElement("a",{target:"_blank",className:"RwSm",href:getEtherscanURL()+"address/"+e.location},"Smart Contract"),React.createElement("br",null),React.createElement("br",null),React.createElement("span",{className:"RwSm"},"Method: ",e.methodSignature),React.createElement("br",null),React.createElement("br",null),React.createElement("a",{href:"https://robe.ninja?id="+e.sourceLocationId,target:"_blank"},"Source Code"),e.proposalAddress&&parseInt(e.proposalAddress.toLowerCase().split("x").join(""))>0&&React.createElement("a",{target:"_blank",className:"RwPa",href:getEtherscanURL()+"address/"+e.proposalAddress},"History"))})))}});!window.preloadedScripts && (window.preloadedScripts=[]);Array.prototype.push.apply(window.preloadedScripts,['spa/deploy/controller.jsx','spa/deploy/style.min.css','spa/deploy/view.jsx','spa/dFORule/controller.jsx','spa/dFORule/style.min.css','spa/dFORule/view.jsx','spa/govern/controller.jsx','spa/govern/style.min.css','spa/govern/view.jsx','spa/index/controller.jsx','spa/index/style.min.css','spa/index/view.jsx','spa/loader.jsx','spa/messages.jsx','spa/propose/controller.jsx','spa/propose/style.min.css','spa/propose/view.jsx','spa/run/controller.jsx','spa/run/style.min.css','spa/run/view.jsx']);